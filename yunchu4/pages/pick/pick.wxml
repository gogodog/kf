<!-- 选配页面 -->
<cu-custom model="nav" bgColor="bg-red" isBack="{{false}}" isCustom="{{false}}">
  <text slot="content">制作菜谱</text>
</cu-custom>
<wux-notice-bar loop>{{"👋&nbsp ==> "+noticecontent}}</wux-notice-bar>
<view class="cu-bar bg-white solid-bottom">
  <view class="action"><text class="cuIcon-title text-orange "></text>主料</view>
  <view class="action"><button class="cu-btn line-red">添加</button></view>
</view>
<view class="cu-list menu">
    <block wx:if="{{content_food.length > 0}}">
      <view wx:for="{{content_food}}" wx:key="index" class="cu-item {{modalName1=='move-box-'+ index?'move-cur':''}}" wx:key bindtouchstart="ListTouchStart1" bindtouchmove="ListTouchMove1" bindtouchend="ListTouchEnd1" data-target="move-box-{{index}}">
        <view class="cu-avatar radius lg" style="margin-top: 10rpx;margin-bottom: 10rpx;margin-right: 20rpx;background-image:url({{item.avatar}});"></view>
        <view class="content"><view class="text-grey">{{item.cnname}}</view></view>
        <view class="action"><wux-input-number default-value="{{item.weightval}}" min="0" max="200" longpress disabled="{{ false }}" slot="footer" data-rowid="{{item.id}}" bind:change="changeFoodWeightval" /></view>
        <view class="move" data-id="{{item.id}}" bindtap="operateDelFood"><view class="bg-red">删除</view></view>
      </view>
    </block>
    <view wx:if="{{content_food.length == 0}}" class="cu-item">
      <view class="content">
        <text class="cuIcon-warn text-green"></text>
        <text class="text-grey">点击操作按钮添加</text>
      </view>
    </view>
</view>
<view class="cu-bar bg-white solid-bottom margin-top">
  <view class="action"><text class="cuIcon-title text-orange "></text>辅料</view>
  <view class="action"><button class="cu-btn bg-green shadow" bindtap="showModal" data-target="gridModal">添加</button></view>
</view>
<view class="cu-list menu">
    <block wx:if="{{content_food.length > 0}}">
      <view wx:for="{{content_food}}" wx:key="index" class="cu-item {{modalName2=='move-box-'+ index?'move-cur':''}}" wx:key bindtouchstart="ListTouchStart2" bindtouchmove="ListTouchMove2" bindtouchend="ListTouchEnd2" data-target="move-box-{{index}}">
        <view class="cu-avatar radius lg" style="margin-top: 10rpx;margin-bottom: 10rpx;margin-right: 20rpx;background-image:url({{item.avatar}});"></view>
        <view class="content"><view class="text-grey">{{item.cnname}}</view></view>
        <view class="action"><wux-input-number default-value="{{item.weightval}}" min="0" max="200" longpress disabled="{{ false }}" slot="footer" data-rowid="{{item.id}}" bind:change="changeFoodWeightval" /></view>
        <view class="move" data-id="{{item.id}}" bindtap="operateDelFood"><view class="bg-red">删除</view></view>
      </view>
    </block>
    <view wx:if="{{content_food.length == 0}}" class="cu-item">
      <view class="content">
        <text class="cuIcon-warn text-green"></text>
        <text class="text-grey">点击操作按钮添加</text>
      </view>
    </view>
</view>

<view class="cu-bar bg-white solid-bottom margin-top">
  <view class="action"><text class="cuIcon-title text-orange "></text>调味品</view>
  <view class="action"><button class="cu-btn bg-green shadow" bindtap="showModal" data-target="gridModal">添加</button></view>
</view>
<view class="cu-list menu">
    <block wx:if="{{content_seasoning.length > 0}}">
      <view wx:for="{{content_seasoning}}" wx:key="index" class="cu-item {{modalName3=='move-box-'+ index?'move-cur':''}}" wx:key bindtouchstart="ListTouchStart3" bindtouchmove="ListTouchMove3" bindtouchend="ListTouchEnd3" data-target="move-box-{{index}}">
        <view class="cu-avatar radius lg" style="margin-top: 10rpx;margin-bottom: 10rpx;margin-right: 20rpx;background-image:url({{item.avatar}});"></view>
        <view class="content"><view class="text-grey">{{item.cnname}}</view></view>
        <view class="action"><wux-input-number default-value="{{item.weightval}}" min="0" max="200" longpress disabled="{{ false }}" slot="footer" data-rowid="{{item.id}}" bind:change="changeFoodWeightval" /></view>
        <view class="move" data-id="{{item.id}}" bindtap="operateDelSeasoning"><view class="bg-red">删除</view></view>
      </view>
    </block>
    <view wx:if="{{content_seasoning.length == 0}}" class="cu-item">
      <view class="content">
        <text class="cuIcon-warn text-green"></text>
        <text class="text-grey">点击操作按钮添加</text>
      </view>
    </view>
</view>

<view class="cu-bar bg-white solid-bottom margin-top">
  <view class="action"><text class="cuIcon-title text-orange "></text>做法</view>
</view>
<view>
  <wux-cell-group>
    <wux-cell hover-class="none">
      <wux-textarea bind:change="setContentMethod" autoHeight defaultValue="{{content_method_catch}}" placeholder="请点击这里输入制作方法（建议每步使用换行隔开）" />
    </wux-cell>
  </wux-cell-group>
</view>

<view class="cu-bar bg-white solid-bottom margin-top">
  <view class="action"><text class="cuIcon-title text-orange "></text>需要注意</view>
</view>
<view>
  <wux-cell-group>
    <wux-cell hover-class="none">
      <wux-textarea bind:change="setContentAttion" autoHeight defaultValue="{{content_attion_catch}}" placeholder="请点击这里输入需要注意的事项" />
    </wux-cell>
  </wux-cell-group>
</view>
<view class="padding flex flex-direction">
  <button class="cu-btn bg-red margin-tb-sm lg" bindtap="submitPick">嫣红</button>
</view>


<view class="box">
<scroll-view class="box-scroll" scroll-y="true" lower-threshold="100" bindscrolltolower="hotload">
<wux-popup position="bottom" visible="{{ sfood_visible }}" bind:close="searchClose" catchtouchmove="return">
  <wux-cell-group>
    <wux-search-bar placeholder="{{sfood_placeholder}}" clear bind:change="searchFoodChange" controlled value="{{sfood_key}}" />
    <wux-cell hover-class="none">
      <wux-tag wx:for="{{sfood_tag}}" wx:key="index" color="red" data-s="1" data-skey="{{item.key}}" bind:click="operateClickTag">
        {{item.key}}
      </wux-tag>
    </wux-cell>
    <block wx:if="{{sfood_list.length>0}}">
      <wux-cell bind:click="sfoodTap" data-row="{{item}}" wx:for="{{sfood_list}}" wx:key="{{index}}" prefixCls="wux-cell-large" thumb="{{item.avatar}}" title="{{item.cnname}}" label="{{item.infoc.desc}}"></wux-cell>
    </block>
  </wux-cell-group>
</wux-popup>
<wux-popup position="bottom" visible="{{ sseasoning_visible }}" bind:close="searchClose" catchtouchmove="return">
  <wux-cell-group>
    <wux-search-bar placeholder="{{sseasoning_placeholder}}" clear bind:change="searchSeasoningChange" controlled value="{{sseasoning_key}}" />
    <wux-cell hover-class="none">
      <wux-tag wx:for="{{sseasoning_tag}}" wx:key="index" color="red" data-s="2" data-skey="{{item.key}}" bind:click="operateClickTag">
        {{item.key}}
      </wux-tag>
    </wux-cell>
    <block wx:if="{{sseasoning_list.length>0}}">
      <wux-cell bind:click="sseasoningTap" data-row="{{item}}" wx:for="{{sseasoning_list}}" wx:key="{{index}}" hover-class="none" title="{{item.cnname}}"></wux-cell>
    </block>
  </wux-cell-group>
</wux-popup>
<wux-fab-button position="bottomRight" theme="white" direction="vertical" spaceBetween="40" sAngle="180" bodyStyle="bottom:120rpx" eAngle="180" buttons="{{ buttons }}" bind:click="operateClick" />
</scroll-view>
</view>









<scroll-view scroll-y class="DrawerPage {{modalName=='viewModal'?'show':''}}">
			<cu-custom bgColor="bg-gradual-blue" isBack="{{true}}"><view slot="backText">返回</view>
				<view slot="content">全屏抽屉</view>
			</cu-custom>			
			<view class='padding margin text-center'>
				<view class='cu-btn bg-green lg block shadow radius margin-xl' bindtap="showModal" data-target="viewModal">
					打开抽屉
				</view>
			</view>
			<view class="cu-list menu card-menu margin-top-xl margin-bottom-xl shadow-lg">
				<view class="cu-item arrow" wx:for="{{20}}" wx:key="index">
					<view class="content">
						<text class="cuIcon-github text-grey"></text>
						<text class="text-grey">{{index +1}}</text>
					</view>
				</view>
			</view>
			
			<view class='padding margin text-center'>
				<view class='cu-btn bg-green lg block shadow radius margin-xl' bindtap="showModal" data-target="viewModal">
					打开抽屉11
				</view>
			</view>
		</scroll-view>
		<view class="DrawerClose {{modalName=='viewModal'?'show':''}}" bindtap="hideModal">
			<text class="cuIcon-pullright"></text>
		</view>
		<scroll-view scroll-y class="DrawerWindow {{modalName=='viewModal'?'show':''}}">
			<view class="cu-list menu card-menu margin-top-xl margin-bottom-xl shadow-lg">
				<view class="cu-item arrow" wx:for="{{8}}" wx:key="index">
					<view class="content">
						<text class="cuIcon-github text-grey"></text>
						<text class="text-grey">{{index +1}}+111</text>
					</view>
				</view>
			</view>
		</scroll-view>







<wux-dialog id="wux-dialog" />
<wux-dialog id="wux-dialog--alert" />
<wux-notification id="wux-notification" />
<wux-toptips id="wux-toptips" />
<!-- <footnav tabCur="{{2}}" /> -->