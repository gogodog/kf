<!--dist/cards/card/card.wxml-->
<view class="wx-cards-card {{noMargin?'':'margin24'}}">
  <view class='header'>
    <view wx:if="{{headerImg}}" class='pc'>
      <image mode='aspectFill' src='{{headerImg}}'></image>
    </view>
    <view class='title-time'>
      <view class='title'>{{title}}</view>
      <view class='time'>{{time}}</view>
    </view>
    <view>
      <icon-button type='more' style='display: none;'></icon-button>
    </view>
  </view>
  <view wx:if="{{img}}" class='img'>
    <image mode='widthFix' src='{{img}}'></image>
  </view>
  <view wx:if="{{isSlotBody}}" class='text'>
    <slot name="body"></slot>
  </view>
  <view wx:if="{{richContext}}" class='text'>
    <rich-text >{{richContext}}</rich-text>
  </view>
  <view wx:if="{{context}}" class='text'>
    {{context}}
  </view>
  <view class='buttons' wx:if="{{!noButtons}}">
    <view style='display: flex;'>
      <view class='tag' wx:for='{{tag}}' wx:key='index'><tag class="i-tags" color="{{item.color}}">{{item.title}}</tag></view>
      <view class='tag' bindtap='handleTap1' wx:if='{{tap1}}'><tag class="i-tags" color="{{tap1color}}">{{tap1title}}</tag></view>
      <view class='tag' bindtap='handleTap2' wx:if='{{tap2}}'><tag class="i-tags" color="{{tap2color}}">{{tap2title}}</tag></view>
      <view class='tag' bindtap='handleTap3' wx:if='{{tap3}}'><tag class="i-tags" color="{{tap3color}}">{{tap3title}}</tag></view>
      <icon-button type='{{isLiked ? "red-like" : "like"}}' style='display: {{isShowLike ? "" : "none"}};' bindtap='handleLike'></icon-button>
      <text class='number' style='display: {{likeNumber ? "" : "none"}}'>{{likeNumber}}</text>
      <icon-button type='{{isUnliked ? "blue-unlike" : "unlike"}}' style='display: {{isShowUnlike ? "" : "none"}};' bindtap='handleUnlike'></icon-button>
      <text class='number' style='display: {{unlikeNumber ? "" : "none"}}'>{{unlikeNumber}}</text>
      <icon-button type='delete' wx:if='{{isShowDelete}}' bindtap='handleDelete'></icon-button>
    </view>
    <view style='transform:rotate({{isMoreText ? 180 : 0}}deg);' bindtap='showMoreText'>
      <icon-button type='explain'></icon-button>
    </view>
  </view>
  <view class='more-text {{noButtons ? "explain-text" : (isMoreText ? "explain-text" : "")}}'>
    <text wx:if="{{!selfMoreText}}" >{{moreText}}</text>
    <block wx:if="{{selfMoreText}}" >
      <slot name="smt"></slot>
    </block>
  </view>
</view>
